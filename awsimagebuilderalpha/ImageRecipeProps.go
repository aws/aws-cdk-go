package awsimagebuilderalpha

import (
	"github.com/aws/aws-cdk-go/awscdk/v2/awsec2"
)

// Properties for creating an Image Recipe resource.
//
// Example:
//   parameterizedComponent := imagebuilder.Component_FromComponentName(this, jsii.String("ParameterizedComponent"), jsii.String("my-parameterized-component"))
//
//   imageRecipe := imagebuilder.NewImageRecipe(this, jsii.String("ParameterizedImageRecipe"), &ImageRecipeProps{
//   	BaseImage: imagebuilder.BaseImage_*FromSsmParameterName(jsii.String("/aws/service/ami-amazon-linux-latest/al2023-ami-minimal-kernel-default-x86_64")),
//   	Components: []ComponentConfiguration{
//   		&ComponentConfiguration{
//   			Component: parameterizedComponent,
//   			Parameters: map[string]ComponentParameterValue{
//   				"environment": imagebuilder.ComponentParameterValue_fromString(jsii.String("production")),
//   				"version": imagebuilder.ComponentParameterValue_fromString(jsii.String("1.0.0")),
//   			},
//   		},
//   	},
//   })
//
// Experimental.
type ImageRecipeProps struct {
	// The base image for customizations specified in the image recipe.
	// Experimental.
	BaseImage BaseImage `field:"required" json:"baseImage" yaml:"baseImage"`
	// The additional tags to assign to the output AMI generated by the build.
	// Default: None.
	//
	// Experimental.
	AmiTags *map[string]*string `field:"optional" json:"amiTags" yaml:"amiTags"`
	// The block devices to attach to the instance used for building the image.
	// Default: None.
	//
	// Experimental.
	BlockDevices *[]*awsec2.BlockDevice `field:"optional" json:"blockDevices" yaml:"blockDevices"`
	// The list of component configurations to apply in the image build.
	// Default: None.
	//
	// Experimental.
	Components *[]*ComponentConfiguration `field:"optional" json:"components" yaml:"components"`
	// The description of the image recipe.
	// Default: None.
	//
	// Experimental.
	Description *string `field:"optional" json:"description" yaml:"description"`
	// The name of the image recipe.
	// Default: - a name is generated.
	//
	// Experimental.
	ImageRecipeName *string `field:"optional" json:"imageRecipeName" yaml:"imageRecipeName"`
	// The version of the image recipe.
	// Default: 1.0.x
	//
	// Experimental.
	ImageRecipeVersion *string `field:"optional" json:"imageRecipeVersion" yaml:"imageRecipeVersion"`
	// The tags to apply to the image recipe.
	// Default: None.
	//
	// Experimental.
	Tags *map[string]*string `field:"optional" json:"tags" yaml:"tags"`
	// Whether to uninstall the Systems Manager agent from your final build image, prior to creating the new AMI.
	// Default: - this is false if the Systems Manager agent is pre-installed on the base image. Otherwise, this is true.
	//
	// Experimental.
	UninstallSsmAgentAfterBuild *bool `field:"optional" json:"uninstallSsmAgentAfterBuild" yaml:"uninstallSsmAgentAfterBuild"`
	// The user data commands to pass to Image Builder build and test EC2 instances.
	//
	// For Linux and macOS, Image Builder
	// uses a default user data script to install the Systems Manager agent. If you override the user data, you must
	// ensure to add commands to install Systems Manager agent, if it is not pre-installed on your base image.
	// Default: None.
	//
	// Experimental.
	UserDataOverride awsec2.UserData `field:"optional" json:"userDataOverride" yaml:"userDataOverride"`
	// The working directory for use during build and test workflows.
	// Default: - the Image Builder default working directory is used. For Linux and macOS builds, this would be /tmp. For
	// Windows builds, this would be C:/.
	//
	// Experimental.
	WorkingDirectory *string `field:"optional" json:"workingDirectory" yaml:"workingDirectory"`
}

